(this["webpackJsonpmovie-db"]=this["webpackJsonpmovie-db"]||[]).push([[0],{113:function(e,t,r){"use strict";r.r(t);var a=r(4),n=r(0),c=r.n(n),o=r(22),i=r.n(o),s=r(44),l=r(134),j=r(132),d=r(133),u=r(135),b=r(130),h=r(68),g=r.n(h),m=r(9),O=r(12),p=function(e,t){switch(t.type){case"SET_FIELD":return Object(O.a)(Object(O.a)({},e),{},Object(m.a)({},t.target,t.value));case"SET_RESULT":return Object(O.a)(Object(O.a)({},e),{},{isError:"",isLoading:!1,showModal:!1,result:t.value});case"LOADING":return Object(O.a)(Object(O.a)({},e),{},{isLoading:!0});case"ERROR":return Object(O.a)(Object(O.a)({},e),{},{isLoading:!1,showModal:!0,isError:t.value,result:[]});case"RESET":return{isLoading:!1,isError:"",showModal:!1,query:"",result:[]};case"REMOVE_MOVIE":return e.result.splice(e.result.findIndex((function(e){return e.id===t.value})),1),Object(O.a)({},e);default:return Object(O.a)({},e)}},x=r(126),v=r(127),y=r(128),f=r(129),E=r(131),w=function(e){var t=e.id,r=e.original_title,c=e.poster_path,o=e.overview,i=e.release_date,s=e.vote_average,l=Object(n.useContext)(S).removeMovie;return Object(a.jsx)(x.a,{style:{boxShadow:"3px 3px 5px 6px #ccc",height:"100%"},children:Object(a.jsxs)(v.a,{children:[Object(a.jsx)(y.a,{component:"img",alt:r,height:"400",image:c?"https://image.tmdb.org/t/p/w500".concat(c):"https://critics.io/img/movies/poster-placeholder.png",title:r}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h4",children:r}),Object(a.jsxs)(b.a,{variant:"subtitle2",color:"textSecondary",component:"p",gutterBottom:!0,children:["Rating: ",s]}),Object(a.jsxs)(b.a,{variant:"subtitle2",color:"textSecondary",component:"p",gutterBottom:!0,children:["Release Date: ",i]}),Object(a.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:o.length>200?Object(a.jsxs)("span",{children:[o.substring(0,200)," ..."]}):o})]}),Object(a.jsx)("hr",{style:{border:0,height:"1px",backgroundImage:"linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0))",marginTop:"10px"}}),Object(a.jsx)(E.a,{children:Object(a.jsxs)(j.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(d.a,{size:"small",color:"primary",href:"https://www.themoviedb.org/movie/".concat(t),children:"Learn More"})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(d.a,{size:"small",color:"secondary",onClick:function(){return l(t)},children:"Remove"})})]})})]})})},R=function(){var e=Object(n.useContext)(S).result;return Object(a.jsx)(j.a,{container:!0,spacing:3,direction:"row",justify:"center",alignItems:"stretch",children:e.map((function(e){var t=e.overview,r=e.vote_average;return t.length>50&&r>0?Object(a.jsx)(j.a,{item:!0,sm:6,md:4,children:Object(a.jsx)(w,Object(O.a)({},e),e.id)}):Object(a.jsx)(c.a.Fragment,{})}))})},M=function(e){var t=e.errMsg;return Object(a.jsx)(b.a,{variant:"h5",component:"h2",center:"true",children:t})},S=c.a.createContext(),I={isLoading:!1,isError:"",showModal:!1,query:"",result:[]},L=function(){var e=Object(n.useReducer)(p,I),t=Object(s.a)(e,2),r=t[0],c=t[1],o=r.isLoading,i=r.isError,h=r.showModal,m=r.query,O=r.result;return Object(a.jsxs)(S.Provider,{value:{result:O,removeMovie:function(e){c({type:"REMOVE_MOVIE",value:e})}},children:[Object(a.jsxs)(l.a,{maxWidth:"md",style:{marginTop:"2em"},children:[Object(a.jsxs)("form",{onSubmit:function(e){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat("7b5b1a98c3b95dd8845d57218054daac","&language=en-US&query=").concat(m,"&page=1&include_adult=false");e.preventDefault(),c({type:"LOADING"}),fetch(t).then((function(e){return e.json()})).then((function(e){void 0!==e.results&&e.results.length>0?c({type:"SET_RESULT",value:e.results}):c({type:"ERROR",value:"Invalid search!"})})).catch((function(e){c({type:"ERROR",value:"Invalid search!"})}))},noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(g.a,{value:m,label:"Search",onChange:function(e){return c({type:"SET_FIELD",target:"query",value:e})}}),Object(a.jsx)(j.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-start",children:Object(a.jsx)(d.a,{style:{marginTop:"0.5em"},type:"reset",varient:"contained",color:"secondary",onClick:function(){c({type:"RESET"})},children:"Reset"})})]}),Object(a.jsxs)(j.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{marginTop:"2em",marginBottom:"2em"},children:[h?Object(a.jsx)(M,{errMsg:i}):null,o?Object(a.jsx)(u.a,{}):Object(a.jsx)(R,{})]})]}),Object(a.jsxs)(l.a,{maxWidth:"xs",style:{marginTop:"10em"},children:[Object(a.jsxs)(b.a,{variant:"h6",gutterBottom:!0,children:["Powered by",Object(a.jsxs)("span",{children:[Object(a.jsx)("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"TMBD Logo",srcset:""})," "]})]}),Object(a.jsx)(b.a,{variant:"overline",display:"block",gutterBottom:!0,children:"\xa9 Copyright 2020, Chung Hak Ngor"})]})]})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(L,{})}),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.0ce3c8fd.chunk.js.map