{"version":3,"sources":["mainReducer.js","MovieComponent.js","ErrorModal.js","App.js","index.js"],"names":["reducer","state","action","type","target","value","isError","isLoading","showModal","result","query","splice","findIndex","m","id","MovieCard","original_title","poster_path","overview","release_date","vote_average","removeMovie","useContext","ResultContext","Card","style","boxShadow","height","CardActionArea","CardMedia","component","alt","image","title","CardContent","Typography","gutterBottom","variant","color","length","substring","border","backgroundImage","marginTop","CardActions","Grid","container","direction","justify","alignItems","item","Button","size","href","onClick","MovieList","spacing","map","movie","sm","md","Fragment","ErrorModal","errMsg","center","React","createContext","initState","App","useReducer","dispatch","Provider","Container","maxWidth","onSubmit","e","url","process","preventDefault","fetch","then","res","json","data","undefined","results","catch","err","noValidate","autoComplete","label","onChange","event","varient","marginBottom","CircularProgress","src","srcset","display","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0ce3c8fd.chunk.js","sourcesContent":["export const reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase \"SET_FIELD\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.target]: action.value,\n\t\t\t};\n\n\t\tcase \"SET_RESULT\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisError: \"\",\n\t\t\t\tisLoading: false,\n\t\t\t\tshowModal: false,\n\t\t\t\tresult: action.value,\n\t\t\t};\n\n\t\tcase \"LOADING\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoading: true,\n\t\t\t};\n\n\t\tcase \"ERROR\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoading: false,\n\t\t\t\tshowModal: true,\n\t\t\t\tisError: action.value,\n\t\t\t\tresult: [],\n\t\t\t};\n\n\t\tcase \"RESET\":\n\t\t\treturn {\n\t\t\t\tisLoading: false,\n\t\t\t\tisError: \"\",\n\t\t\t\tshowModal: false,\n\t\t\t\tquery: \"\",\n\t\t\t\tresult: [],\n\t\t\t};\n\n\t\tcase \"REMOVE_MOVIE\":\n\t\t\tstate.result.splice(\n\t\t\t\tstate.result.findIndex((m) => m.id === action.value),\n\t\t\t\t1\n\t\t\t);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t};\n\t}\n};\n","import React, { useContext } from \"react\";\nimport { Grid, Card, Button, CardContent, Typography, CardActionArea, CardMedia, CardActions } from \"@material-ui/core\";\nimport { ResultContext } from \"./App\";\nimport PropTypes from \"prop-types\";\n\nconst MovieCard = ({ id, original_title, poster_path, overview, release_date, vote_average }) => {\n\tconst { removeMovie } = useContext(ResultContext);\n\n\treturn (\n\t\t<Card style={{ boxShadow: \"3px 3px 5px 6px #ccc\", height: \"100%\" }}>\n\t\t\t<CardActionArea>\n\t\t\t\t<CardMedia component=\"img\" alt={original_title} height=\"400\" image={poster_path ? `https://image.tmdb.org/t/p/w500${poster_path}` : \"https://critics.io/img/movies/poster-placeholder.png\"} title={original_title} />\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography gutterBottom variant=\"h5\" component=\"h4\">\n\t\t\t\t\t\t{original_title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"subtitle2\" color=\"textSecondary\" component=\"p\" gutterBottom>\n\t\t\t\t\t\tRating: {vote_average}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"subtitle2\" color=\"textSecondary\" component=\"p\" gutterBottom>\n\t\t\t\t\t\tRelease Date: {release_date}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n\t\t\t\t\t\t{overview.length > 200 ? <span>{overview.substring(0, 200)} ...</span> : overview}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t\t<hr style={{ border: 0, height: \"1px\", backgroundImage: \"linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0))\", marginTop: \"10px\" }} />\n\t\t\t\t<CardActions>\n\t\t\t\t\t<Grid container direction=\"row\" justify=\"space-around\" alignItems=\"center\">\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" href={`https://www.themoviedb.org/movie/${id}`}>\n\t\t\t\t\t\t\t\tLearn More\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Button size=\"small\" color=\"secondary\" onClick={() => removeMovie(id)}>\n\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</CardActions>\n\t\t\t</CardActionArea>\n\t\t</Card>\n\t);\n};\n\nMovieCard.propTypes = {\n\tid: PropTypes.string.isRequired,\n\toriginal_title: PropTypes.string.isRequired,\n\tposter_path: PropTypes.string.isRequired,\n\trelease_date: PropTypes.string.isRequired,\n\tvote_average: PropTypes.string.isRequired,\n};\n\nexport const MovieList = () => {\n\tconst { result } = useContext(ResultContext);\n\n\treturn (\n\t\t<Grid container spacing={3} direction=\"row\" justify=\"center\" alignItems=\"stretch\">\n\t\t\t{result.map((movie) => {\n\t\t\t\tconst { overview, vote_average } = movie;\n\t\t\t\tif (overview.length > 50 && vote_average > 0) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid item sm={6} md={4}>\n\t\t\t\t\t\t\t<MovieCard key={movie.id} {...movie} />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn <React.Fragment></React.Fragment>;\n\t\t\t\t}\n\t\t\t})}\n\t\t</Grid>\n\t);\n};\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nexport const ErrorModal = ({ errMsg }) => {\n\treturn (\n\t\t<Typography variant=\"h5\" component=\"h2\" center=\"true\">\n\t\t\t{errMsg}\n\t\t</Typography>\n\t);\n};\n","import React, { useReducer } from \"react\";\nimport { Container, Button, CircularProgress, Grid, Typography } from \"@material-ui/core\";\nimport SearchBar from \"material-ui-search-bar\";\nimport { reducer } from \"./mainReducer\";\nimport { MovieList } from \"./MovieComponent\";\nimport { ErrorModal } from \"./ErrorModal\";\n\n// .ENV Imports\nconst TMDB_APIKEY = process.env.REACT_APP_TMDB_APIKEY;\n\n// For development\n// const TMDB_APIKEY = <API_KEY>\n\n// Export the Context for use in other Components\nexport const ResultContext = React.createContext();\n\n// Initial State\nconst initState = { isLoading: false, isError: \"\", showModal: false, query: \"\", result: [] };\n\n// Main App Component\nexport const App = () => {\n\t// useReducer function to manage state\n\tconst [state, dispatch] = useReducer(reducer, initState);\n\n\t// Remove Movie by ID (Pass through Context to Nested Component)\n\tconst removeMovie = (id) => {\n\t\tdispatch({ type: \"REMOVE_MOVIE\", value: id });\n\t};\n\n\tconst { isLoading, isError, showModal, query, result } = state;\n\n\t// Fetching data from API\n\tconst fetchData = (e) => {\n\t\tconst url = `https://api.themoviedb.org/3/search/movie?api_key=${TMDB_APIKEY}&language=en-US&query=${query}&page=1&include_adult=false`;\n\t\te.preventDefault();\n\t\tdispatch({ type: \"LOADING\" });\n\t\tfetch(url)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.results !== undefined && data.results.length > 0) {\n\t\t\t\t\tdispatch({ type: \"SET_RESULT\", value: data.results });\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({ type: \"ERROR\", value: \"Invalid search!\" });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tdispatch({ type: \"ERROR\", value: \"Invalid search!\" });\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<ResultContext.Provider value={{ result, removeMovie }}>\n\t\t\t<Container maxWidth=\"md\" style={{ marginTop: \"2em\" }}>\n\t\t\t\t<form onSubmit={fetchData} noValidate autoComplete=\"off\">\n\t\t\t\t\t<SearchBar value={query} label=\"Search\" onChange={(event) => dispatch({ type: \"SET_FIELD\", target: \"query\", value: event })} />\n\t\t\t\t\t<Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"flex-start\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstyle={{ marginTop: \"0.5em\" }}\n\t\t\t\t\t\t\ttype=\"reset\"\n\t\t\t\t\t\t\tvarient=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tdispatch({ type: \"RESET\" });\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t\t<Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" style={{ marginTop: \"2em\", marginBottom: \"2em\" }}>\n\t\t\t\t\t{showModal ? <ErrorModal errMsg={isError} /> : null}\n\t\t\t\t\t{isLoading ? <CircularProgress /> : <MovieList />}\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\n\t\t\t<Container maxWidth=\"xs\" style={{ marginTop: \"10em\" }}>\n\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\tPowered by\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<img src=\"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg\" alt=\"TMBD Logo\" srcset=\"\" />{\" \"}\n\t\t\t\t\t</span>\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"overline\" display=\"block\" gutterBottom>\n\t\t\t\t\t&copy; Copyright 2020, Chung Hak Ngor\n\t\t\t\t</Typography>\n\t\t\t</Container>\n\t\t</ResultContext.Provider>\n\t);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { App } from \"./App.js\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}