(this["webpackJsonpmovie-db"]=this["webpackJsonpmovie-db"]||[]).push([[0],{113:function(e,t,r){"use strict";r.r(t);var a=r(4),c=r(0),n=r.n(c),o=r(22),s=r.n(o),i=r(44),l=r(134),u=r(126),d=r(133),j=r(135),b=r(131),h=r(68),m=r.n(h),O=r(9),p=r(12),g=function(e,t){switch(t.type){case"SET_FIELD":return Object(p.a)(Object(p.a)({},e),{},Object(O.a)({},t.target,t.value));case"SET_RESULT":return Object(p.a)(Object(p.a)({},e),{},{isError:"",isLoading:!1,showModal:!1,result:t.value});case"LOADING":return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0});case"ERROR":return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1,showModal:!0,isError:t.value,result:[]});case"RESET":return{isLoading:!1,isError:"",showModal:!1,query:"",result:[]};case"REMOVE_MOVIE":return e.result.splice(e.result.findIndex((function(e){return e.id===t.value})),1),Object(p.a)({},e);default:return Object(p.a)({},e)}},v=r(127),x=r(128),f=r(129),y=r(130),E=r(132),w=function(e){var t=e.id,r=e.original_title,n=e.poster_path,o=e.overview,s=e.release_date,i=e.vote_average,l=Object(c.useContext)(S).removeMovie;return Object(a.jsx)(u.a,{container:!0,item:!0,sm:6,md:4,spacing:0,children:Object(a.jsxs)(v.a,{style:{boxShadow:"3px 3px 5px 6px #ccc"},children:[Object(a.jsxs)(x.a,{children:[Object(a.jsx)(f.a,{component:"img",alt:r,height:"400",image:n?"https://image.tmdb.org/t/p/w500".concat(n):"https://critics.io/img/movies/poster-placeholder.png",title:r}),Object(a.jsxs)(y.a,{children:[Object(a.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h2",children:r}),Object(a.jsxs)(b.a,{variant:"subtitle2",color:"textSecondary",component:"p",gutterBottom:!0,children:["Rating: ",i]}),Object(a.jsxs)(b.a,{variant:"subtitle2",color:"textSecondary",component:"p",gutterBottom:!0,children:["Release Date: ",s]}),Object(a.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:o.substring(0,200)})]})]}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(d.a,{size:"small",color:"primary",href:"https://www.themoviedb.org/movie/".concat(t),children:"Learn More"}),Object(a.jsx)(d.a,{size:"small",color:"secondary",onClick:function(){return l(t)},children:"Remove"})]})]})})},R=function(){var e=Object(c.useContext)(S).result;return Object(a.jsx)(u.a,{container:!0,spacing:3,justify:"space-between",alignItems:"flex-start",children:e.map((function(e){return Object(a.jsx)(w,Object(p.a)({},e),e.id)}))})},M=function(e){var t=e.errMsg;return Object(a.jsx)(b.a,{variant:"h5",component:"h2",center:"true",children:t})},S=n.a.createContext(),L={isLoading:!1,isError:"",showModal:!1,query:"",result:[]},I=function(){var e=Object(c.useReducer)(g,L),t=Object(i.a)(e,2),r=t[0],n=t[1],o=r.isLoading,s=r.isError,h=r.showModal,O=r.query,p=r.result;return Object(a.jsxs)(S.Provider,{value:{result:p,removeMovie:function(e){n({type:"REMOVE_MOVIE",value:e})}},children:[Object(a.jsxs)(l.a,{maxWidth:"md",style:{marginTop:"2em"},children:[Object(a.jsxs)("form",{onSubmit:function(e){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat("7b5b1a98c3b95dd8845d57218054daac","&language=en-US&query=").concat(O,"&page=1&include_adult=false");e.preventDefault(),n({type:"LOADING"}),fetch(t).then((function(e){return e.json()})).then((function(e){void 0!==e.results&&e.results.length>0?n({type:"SET_RESULT",value:e.results}):n({type:"ERROR",value:"Invalid search!"})})).catch((function(e){n({type:"ERROR",value:"Invalid search!"})}))},noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(m.a,{value:O,label:"Search",onChange:function(e){return n({type:"SET_FIELD",target:"query",value:e})}}),Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-start",children:Object(a.jsx)(d.a,{style:{marginTop:"0.5em"},type:"reset",varient:"contained",color:"secondary",onClick:function(){n({type:"RESET"})},children:"Reset"})})]}),Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{marginTop:"2em",marginBottom:"2em"},children:[h?Object(a.jsx)(M,{errMsg:s}):null,o?Object(a.jsx)(j.a,{}):Object(a.jsx)(R,{})]})]}),Object(a.jsxs)(l.a,{maxWidth:"xs",style:{marginTop:"10em"},children:[Object(a.jsxs)(b.a,{variant:"h6",gutterBottom:!0,children:["Powered by",Object(a.jsxs)("span",{children:[Object(a.jsx)("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"TMBD Logo",srcset:""})," "]})]}),Object(a.jsx)(b.a,{variant:"overline",display:"block",gutterBottom:!0,children:"\xa9 Copyright 2020, Chung Hak Ngor"})]})]})};s.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(I,{})}),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.3405dfd9.chunk.js.map