(this["webpackJsonpmovie-db"]=this["webpackJsonpmovie-db"]||[]).push([[0],{40:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r(0),c=r.n(n),i=r(12),o=r.n(i),s=r(20),l=r(61),d=r(59),u=r(60),j=r(62),b=r(57),h=r(7),m=r(11),g=function(e,t){switch(t.type){case"SET_FIELD":return Object(m.a)(Object(m.a)({},e),{},Object(h.a)({},t.target,t.value));case"SET_RESULT":return Object(m.a)(Object(m.a)({},e),{},{isError:"",isLoading:!1,showModal:!1,result:t.value});case"LOADING":return Object(m.a)(Object(m.a)({},e),{},{isLoading:!0});case"ERROR":return Object(m.a)(Object(m.a)({},e),{},{isLoading:!1,showModal:!0,isError:t.value,result:[]});case"RESET":return{isLoading:!1,isError:"",showModal:!1,query:"",result:[]};case"REMOVE_MOVIE":return e.result.splice(e.result.findIndex((function(e){return e.id===t.value})),1),Object(m.a)({},e);default:return Object(m.a)({},e)}},p=r(63),O=r(54),v=r(55),x=r(56),y=r(58),f=function(e){var t=e.id,r=e.original_title,c=e.poster_path,i=e.overview,o=e.release_date,s=e.vote_average,l=Object(n.useContext)(R).removeMovie;return Object(a.jsx)(p.a,{style:{boxShadow:"3px 3px 5px 6px #ccc",height:"100%"},children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(v.a,{component:"img",alt:r,height:"400",image:c?"https://image.tmdb.org/t/p/w500".concat(c):"https://critics.io/img/movies/poster-placeholder.png",title:r}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h4",noWrap:!0,children:r}),Object(a.jsxs)(b.a,{variant:"subtitle2",color:"textSecondary",component:"p",gutterBottom:!0,children:["Rating: ",s]}),Object(a.jsxs)(b.a,{variant:"subtitle2",color:"textSecondary",component:"p",gutterBottom:!0,children:["Release Date: ",o]}),Object(a.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"p",style:{height:"8em"},children:i.length>200?Object(a.jsxs)("span",{children:[i.substring(0,200)," ..."]}):i})]}),Object(a.jsxs)("div",{style:{paddingTop:"1em"},children:[Object(a.jsx)(y.a,{}),Object(a.jsxs)(d.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",style:{padding:"2em"},children:[Object(a.jsx)(d.a,{item:!0,children:Object(a.jsx)(u.a,{variant:"outlined",size:"small",color:"primary",href:"https://www.themoviedb.org/movie/".concat(t),children:"Learn More"})}),Object(a.jsx)(d.a,{item:!0,children:Object(a.jsx)(u.a,{variant:"outlined",size:"small",color:"secondary",onClick:function(){return l(t)},children:"Remove"})})]})]})]})})},E=function(){var e=Object(n.useContext)(R).result;return Object(a.jsx)(d.a,{container:!0,spacing:3,direction:"row",justify:"center",alignItems:"stretch",children:e.map((function(e){var t=e.overview,r=e.vote_average;return t.length>50&&r>0?Object(a.jsx)(d.a,{item:!0,sm:6,md:4,lg:3,children:Object(a.jsx)(f,Object(m.a)({},e),e.id)}):Object(a.jsx)(c.a.Fragment,{})}))})},w=function(e){var t=e.errMsg;return Object(a.jsx)(b.a,{variant:"h5",component:"h2",center:"true",children:t})},R=c.a.createContext(),M={isLoading:!1,isError:"",showModal:!1,query:"",result:[]},S=function(){var e=Object(n.useReducer)(g,M),t=Object(s.a)(e,2),r=t[0],c=t[1],i=r.isLoading,o=r.isError,h=r.showModal,m=r.query,p=r.result;return Object(a.jsxs)(R.Provider,{value:{result:p,removeMovie:function(e){c({type:"REMOVE_MOVIE",value:e})}},children:[Object(a.jsxs)(l.a,{maxWidth:"lg",style:{marginTop:"2em"},children:[Object(a.jsxs)("form",{onSubmit:function(e){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat("7b5b1a98c3b95dd8845d57218054daac","&language=en-US&query=").concat(m,"&page=1&include_adult=false");e.preventDefault(),c({type:"LOADING"}),fetch(t).then((function(e){return e.json()})).then((function(e){void 0!==e.results&&e.results.length>0?c({type:"SET_RESULT",value:e.results}):c({type:"ERROR",value:"Invalid search!"})})).catch((function(e){c({type:"ERROR",value:"Invalid search!"})}))},noValidate:!0,autoComplete:"off",children:[Object(a.jsx)("input",{type:"text",name:"query",value:m,onChange:function(e){return c({type:"SET_FIELD",target:"query",value:e.target.value})},placeholder:"Search",style:{width:"100%",height:"2em",margin:"auto",padding:"0.5em",borderRadius:"10px"}}),Object(a.jsx)(d.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-start",children:Object(a.jsx)(u.a,{style:{marginTop:"1em"},type:"reset",variant:"contained",color:"secondary",onClick:function(){c({type:"RESET"})},children:"Reset"})})]}),Object(a.jsxs)(d.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{marginTop:"2em",marginBottom:"2em"},children:[h?Object(a.jsx)(w,{errMsg:o}):null,i?Object(a.jsx)(j.a,{}):Object(a.jsx)(E,{})]})]}),Object(a.jsxs)(l.a,{maxWidth:"xs",style:{marginTop:"10em"},children:[Object(a.jsxs)(b.a,{variant:"h6",gutterBottom:!0,children:["Powered by",Object(a.jsx)("span",{children:Object(a.jsx)("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"TMBD Logo"})})]}),Object(a.jsx)(b.a,{variant:"overline",display:"block",gutterBottom:!0,children:"\xa9 Copyright 2020, Chung Hak Ngor"})]})]})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.6581d43e.chunk.js.map