{"version":3,"sources":["mainReducer.js","MovieComponent.js","ErrorModal.js","App.js","index.js"],"names":["reducer","state","action","type","target","value","isError","isLoading","showModal","result","query","splice","findIndex","m","id","MovieCard","original_title","poster_path","overview","release_date","vote_average","removeMovie","useContext","ResultContext","Card","style","boxShadow","height","CardActionArea","CardMedia","component","alt","image","title","CardContent","Typography","gutterBottom","variant","noWrap","color","length","substring","paddingTop","Divider","Grid","container","direction","justify","alignItems","padding","item","Button","size","href","onClick","MovieList","spacing","map","movie","sm","md","lg","Fragment","ErrorModal","errMsg","center","React","createContext","initState","App","useReducer","dispatch","Provider","Container","maxWidth","marginTop","onSubmit","e","url","process","preventDefault","fetch","then","res","json","data","undefined","results","catch","err","noValidate","autoComplete","name","onChange","event","placeholder","width","margin","borderRadius","marginBottom","CircularProgress","src","display","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6581d43e.chunk.js","sourcesContent":["export const reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_FIELD\":\n      return {\n        ...state,\n        [action.target]: action.value,\n      };\n\n    case \"SET_RESULT\":\n      return {\n        ...state,\n        isError: \"\",\n        isLoading: false,\n        showModal: false,\n        result: action.value,\n      };\n\n    case \"LOADING\":\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case \"ERROR\":\n      return {\n        ...state,\n        isLoading: false,\n        showModal: true,\n        isError: action.value,\n        result: [],\n      };\n\n    case \"RESET\":\n      return {\n        isLoading: false,\n        isError: \"\",\n        showModal: false,\n        query: \"\",\n        result: [],\n      };\n\n    case \"REMOVE_MOVIE\":\n      state.result.splice(\n        state.result.findIndex((m) => m.id === action.value),\n        1\n      );\n      return {\n        ...state,\n      };\n\n    default:\n      return {\n        ...state,\n      };\n  }\n};\n","import React, { useContext } from \"react\";\nimport { Grid, Card, Button, CardContent, Typography, CardActionArea, CardMedia, Divider } from \"@material-ui/core\";\nimport { ResultContext } from \"./App\";\nimport PropTypes from \"prop-types\";\n\nconst MovieCard = ({ id, original_title, poster_path, overview, release_date, vote_average }) => {\n  const { removeMovie } = useContext(ResultContext);\n\n  return (\n    <Card style={{ boxShadow: \"3px 3px 5px 6px #ccc\", height: \"100%\" }}>\n      <CardActionArea>\n        <CardMedia\n          component=\"img\"\n          alt={original_title}\n          height=\"400\"\n          image={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w500${poster_path}`\n              : \"https://critics.io/img/movies/poster-placeholder.png\"\n          }\n          title={original_title}\n        />\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h4\" noWrap>\n            {original_title}\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\" component=\"p\" gutterBottom>\n            Rating: {vote_average}\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\" component=\"p\" gutterBottom>\n            Release Date: {release_date}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" style={{ height: \"8em\" }}>\n            {overview.length > 200 ? <span>{overview.substring(0, 200)} ...</span> : overview}\n          </Typography>\n        </CardContent>\n        <div style={{ paddingTop: \"1em\" }}>\n          <Divider />\n          <Grid container direction=\"row\" justify=\"space-around\" alignItems=\"center\" style={{ padding: \"2em\" }}>\n            <Grid item>\n              <Button variant=\"outlined\" size=\"small\" color=\"primary\" href={`https://www.themoviedb.org/movie/${id}`}>\n                Learn More\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button variant=\"outlined\" size=\"small\" color=\"secondary\" onClick={() => removeMovie(id)}>\n                Remove\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nMovieCard.propTypes = {\n  id: PropTypes.number.isRequired,\n  original_title: PropTypes.string.isRequired,\n  poster_path: PropTypes.string,\n  release_date: PropTypes.string.isRequired,\n  vote_average: PropTypes.number.isRequired,\n};\n\nexport const MovieList = () => {\n  const { result } = useContext(ResultContext);\n\n  return (\n    <Grid container spacing={3} direction=\"row\" justify=\"center\" alignItems=\"stretch\">\n      {result.map((movie) => {\n        const { overview, vote_average } = movie;\n        if (overview.length > 50 && vote_average > 0) {\n          return (\n            <Grid item sm={6} md={4} lg={3}>\n              <MovieCard key={movie.id} {...movie} />\n            </Grid>\n          );\n        } else {\n          return <React.Fragment></React.Fragment>;\n        }\n      })}\n    </Grid>\n  );\n};\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nexport const ErrorModal = ({ errMsg }) => {\n  return (\n    <Typography variant=\"h5\" component=\"h2\" center=\"true\">\n      {errMsg}\n    </Typography>\n  );\n};\n","import React, { useReducer } from \"react\";\nimport { Container, Button, CircularProgress, Grid, Typography } from \"@material-ui/core\";\nimport { reducer } from \"./mainReducer\";\nimport { MovieList } from \"./MovieComponent\";\nimport { ErrorModal } from \"./ErrorModal\";\n\n// .ENV Imports\nconst TMDB_APIKEY = process.env.REACT_APP_TMDB_APIKEY;\n\n// For development\n// const TMDB_APIKEY = <API_KEY>\n\n// Export the Context for use in other Components\nexport const ResultContext = React.createContext();\n\n// Initial State\nconst initState = { isLoading: false, isError: \"\", showModal: false, query: \"\", result: [] };\n\n// Main App Component\nexport const App = () => {\n  // useReducer function to manage state\n  const [state, dispatch] = useReducer(reducer, initState);\n\n  // Remove Movie by ID (Pass through Context to Nested Component)\n  const removeMovie = (id) => {\n    dispatch({ type: \"REMOVE_MOVIE\", value: id });\n  };\n\n  const { isLoading, isError, showModal, query, result } = state;\n\n  // Fetching data from API\n  const fetchData = (e) => {\n    const url = `https://api.themoviedb.org/3/search/movie?api_key=${TMDB_APIKEY}&language=en-US&query=${query}&page=1&include_adult=false`;\n    e.preventDefault();\n    dispatch({ type: \"LOADING\" });\n    fetch(url)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.results !== undefined && data.results.length > 0) {\n          dispatch({ type: \"SET_RESULT\", value: data.results });\n        } else {\n          dispatch({ type: \"ERROR\", value: \"Invalid search!\" });\n        }\n      })\n      .catch((err) => {\n        dispatch({ type: \"ERROR\", value: \"Invalid search!\" });\n      });\n  };\n\n  return (\n    <ResultContext.Provider value={{ result, removeMovie }}>\n      <Container maxWidth=\"lg\" style={{ marginTop: \"2em\" }}>\n        <form onSubmit={fetchData} noValidate autoComplete=\"off\">\n          <input\n            type=\"text\"\n            name=\"query\"\n            value={query}\n            onChange={(event) => dispatch({ type: \"SET_FIELD\", target: \"query\", value: event.target.value })}\n            placeholder=\"Search\"\n            style={{\n              width: \"100%\",\n              height: \"2em\",\n              margin: \"auto\",\n              padding: \"0.5em\",\n              borderRadius: \"10px\",\n            }}\n          />\n          <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"flex-start\">\n            <Button\n              style={{ marginTop: \"1em\" }}\n              type=\"reset\"\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() => {\n                dispatch({ type: \"RESET\" });\n              }}>\n              Reset\n            </Button>\n          </Grid>\n        </form>\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          style={{ marginTop: \"2em\", marginBottom: \"2em\" }}>\n          {showModal ? <ErrorModal errMsg={isError} /> : null}\n          {isLoading ? <CircularProgress /> : <MovieList />}\n        </Grid>\n      </Container>\n\n      <Container maxWidth=\"xs\" style={{ marginTop: \"10em\" }}>\n        <Typography variant=\"h6\" gutterBottom>\n          Powered by\n          <span>\n            <img\n              src=\"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg\"\n              alt=\"TMBD Logo\"\n            />\n          </span>\n        </Typography>\n        <Typography variant=\"overline\" display=\"block\" gutterBottom>\n          &copy; Copyright 2020, Chung Hak Ngor\n        </Typography>\n      </Container>\n    </ResultContext.Provider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { App } from \"./App.js\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}